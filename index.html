
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stream2Script Pro</title>
    <script>
      // 1. CRITICAL: Prevent "process is not defined" crashes in the browser
      // This MUST run before any module imports.
      window.process = {
        env: {
          API_KEY: "" 
        }
      };

      // 2. Global Error Catcher for Debugging on Vercel
      window.onerror = function(msg, url, line, col, error) {
        var errorDisplay = document.getElementById('critical-error-screen');
        if (errorDisplay) {
          errorDisplay.style.display = 'flex';
          document.getElementById('error-message-text').textContent = msg;
          if (error && error.stack) {
            document.getElementById('error-stack-text').textContent = error.stack;
          }
        }
        return false;
      };
    </script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        darkMode: 'class',
        theme: {
          extend: {
            colors: {
              brand: {
                primary: '#8b5cf6', // Violet 500
                secondary: '#d946ef', // Fuchsia 500
              }
            }
          }
        }
      }
    </script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800;900&display=swap');
        body { 
          font-family: 'Inter', sans-serif;
          margin: 0;
          transition: background-color 0.4s ease, color 0.4s ease;
        }
        .animate-fadeIn {
          animation: fadeIn 0.6s cubic-bezier(0.4, 0, 0.2, 1);
        }
        @keyframes fadeIn {
          from { opacity: 0; transform: translateY(20px); }
          to { opacity: 1; transform: translateY(0); }
        }
        .dark ::-webkit-scrollbar { width: 10px; }
        .dark ::-webkit-scrollbar-track { background: #020617; }
        .dark ::-webkit-scrollbar-thumb { background: #1e293b; border-radius: 5px; border: 2px solid #020617; }
        
        #critical-error-screen {
          display: none;
          position: fixed;
          inset: 0;
          background: #020617;
          color: #f8fafc;
          z-index: 99999;
          flex-direction: column;
          align-items: center;
          justify-content: center;
          padding: 2rem;
        }
    </style>
<script type="importmap">
{
  "imports": {
    "react-dom/": "https://esm.sh/react-dom@19.0.0/",
    "react": "https://esm.sh/react@19.0.0",
    "react/": "https://esm.sh/react@19.0.0/",
    "@google/genai": "https://esm.sh/@google/genai@1.40.0"
  }
}
</script>
</head>
<body class="bg-slate-50 text-slate-900 dark:bg-slate-950 dark:text-slate-100 transition-colors duration-300">
    <div id="critical-error-screen">
      <div class="max-w-2xl w-full bg-slate-900 border border-slate-800 p-10 rounded-[2.5rem] shadow-2xl">
        <i class="fas fa-triangle-exclamation text-brand-primary text-4xl mb-6"></i>
        <h1 class="text-2xl font-black mb-4">Application Failed to Launch</h1>
        <p id="error-message-text" class="text-slate-400 font-mono text-sm mb-4"></p>
        <pre id="error-stack-text" class="bg-black/50 p-4 rounded-xl text-[10px] overflow-auto max-h-48 mb-8 text-slate-500"></pre>
        <p class="text-xs text-slate-500 mb-8 uppercase tracking-widest font-bold">Check Vercel Build Logs & API Key</p>
        <button onclick="window.location.reload()" class="px-8 py-3 bg-white text-slate-950 font-black rounded-xl text-xs uppercase tracking-widest hover:bg-slate-200 transition-colors">Reload Application</button>
      </div>
    </div>

    <div id="root"></div>
    <script type="module" src="index.tsx"></script>
</body>
</html>
